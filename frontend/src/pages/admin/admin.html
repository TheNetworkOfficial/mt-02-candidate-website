<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-78XPQCG150"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-78XPQCG150");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin | Sam Lux For Congress</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gideon+Roman&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="header-placeholder"></div>
    <main class="admin-page container">
      <h1>Admin Dashboard</h1>
      <button id="admin-logout-btn" class="logout-btn">Logout</button>

      <nav class="admin-nav">
        <a href="#events" class="tab-button" data-target="events">Events</a>
        <a href="#news" class="tab-button" data-target="news">News</a>
        <a href="#coalition" class="tab-button" data-target="coalition"
          >Coalition</a
        >
        <a href="#messages" class="tab-button" data-target="messages"
          >Messages</a
        >
        <a href="#volunteers" class="tab-button" data-target="volunteers"
          >Volunteers</a
        >
        <a href="#mailing" class="tab-button" data-target="mailing"
          >Newsletter Signups</a
        >
        <a href="#signups" class="tab-button" data-target="signups"
          >Event Signups</a
        >
      </nav>

      <section id="events" class="tab-content">
        <h2>Add Event</h2>
        <form id="event-form">
          <input type="hidden" id="eventId" />
          <input type="text" id="title" placeholder="Title" required />
          <input type="datetime-local" id="eventDate" required />
          <input type="text" id="location" placeholder="Location" />
          <textarea id="description" placeholder="Description"></textarea>
          <input type="file" id="thumbnail" accept="image/*" />
          <button type="submit">Create Event</button>
          <button type="button" id="cancel-edit" style="display: none">
            Cancel
          </button>
        </form>
        <h3>Existing Events</h3>
        <ul id="events-admin-list"></ul>
      </section>

      <section id="news" class="tab-content">
        <h2>Add News Article</h2>
        <form id="news-form">
          <input type="text" id="news-title" placeholder="Title" required />
          <input type="url" id="news-url" placeholder="URL" required />
          <textarea id="news-summary" placeholder="Summary"></textarea>
          <button type="submit">Add Article</button>
        </form>
        <h3>Recent News</h3>
        <ul id="news-list"></ul>
      </section>

      <section id="coalition" class="tab-content">
        <h2>Coalition Candidates</h2>
        <form id="coalition-form">
          <input type="hidden" id="coalition-id" />
          <div class="coalition-form-grid">
            <label>
              <span>Candidate Name</span>
              <input type="text" id="coalition-name" placeholder="Full name" required />
            </label>
            <label>
              <span>Level</span>
              <select id="coalition-level" required>
                <option value="">Select level</option>
                <option value="federal">Federal</option>
                <option value="state">State</option>
                <option value="county">County</option>
                <option value="city">City</option>
              </select>
            </label>
            <label>
              <span>Office</span>
              <input
                type="text"
                id="coalition-office"
                placeholder="Office or ballot title"
              />
            </label>
            <label>
              <span>Region</span>
              <input
                type="text"
                id="coalition-region"
                placeholder="E.g., Montana's 1st District"
              />
            </label>
            <label>
              <span>Website</span>
              <input
                type="url"
                id="coalition-website"
                placeholder="https://example.com"
              />
            </label>
            <label>
              <span>Sort Order</span>
              <input type="number" id="coalition-sort-order" value="0" />
            </label>
          </div>

          <label class="coalition-full-row">
            <span>Tags (comma separated)</span>
            <input
              type="text"
              id="coalition-tags"
              placeholder="Healthcare reform, Environmental stewardship"
            />
          </label>

          <label class="coalition-full-row">
            <span>Description</span>
            <textarea id="coalition-description" rows="4" required></textarea>
          </label>

          <div class="coalition-socials">
            <div class="coalition-socials__header">
              <span>Social Links</span>
              <button type="button" id="add-social-link" class="secondary-btn">
                Add Link
              </button>
            </div>
            <div id="coalition-social-links"></div>
          </div>

          <label class="coalition-full-row">
            <span>Headshot</span>
            <input type="file" id="coalition-headshot" accept="image/*" />
          </label>

          <div
            id="coalition-headshot-preview"
            class="coalition-headshot-preview"
            hidden
          ></div>

          <label class="coalition-remove-headshot" hidden>
            <input type="checkbox" id="coalition-remove-headshot" />
            <span>Remove existing headshot</span>
          </label>

          <div class="coalition-form-actions">
            <button type="submit" id="coalition-submit-btn">Add Candidate</button>
            <button
              type="button"
              id="coalition-cancel-edit"
              class="secondary-btn"
              style="display: none"
            >
              Cancel
            </button>
          </div>
        </form>

        <h3>Current Coalition</h3>
        <div class="coalition-table-controls">
          <label for="coalition-status-filter">Show</label>
          <select id="coalition-status-filter">
            <option value="all">All statuses</option>
            <option value="pending">Pending review</option>
            <option value="accepted">Accepted</option>
            <option value="rejected">Rejected</option>
          </select>
        </div>

        <table class="admin-table coalition-table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Level</th>
              <th>Status</th>
              <th>Tags</th>
              <th>Submitted By</th>
              <th>Updated</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="coalition-table-body"></tbody>
        </table>
      </section>

      <section id="messages" class="tab-content">
        <h2>Contact Messages</h2>
        <div id="messages-list"></div>
      </section>

      <section id="volunteers" class="tab-content">
        <h2>Volunteers</h2>
        <table id="volunteers-table" class="admin-table">
          <thead>
            <tr>
              <th data-key="firstName">First Name</th>
              <th data-key="lastName">Last Name</th>
              <th data-key="email">Email</th>
              <th data-key="phone">Phone</th>
              <th data-key="zip">Zip</th>
              <th data-key="discord">Discord</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <section id="mailing" class="tab-content">
        <h2>Newsletter Signups</h2>
        <table id="mailing-table" class="admin-table">
          <thead>
            <tr>
              <th>Email</th>
              <th>Phone</th>
            </tr>
          </thead>
          <tbody id="mailing-list"></tbody>
        </table>
      </section>

      <section id="signups" class="tab-content">
        <h2>Event Signups</h2>
        <ul id="signups-list"></ul>
      </section>
    </main>
    <div id="footer-placeholder"></div>
  </body>
</html>
